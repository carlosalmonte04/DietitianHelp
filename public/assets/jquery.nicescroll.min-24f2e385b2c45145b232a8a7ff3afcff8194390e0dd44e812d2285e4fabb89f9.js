!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){var e=!1,i=!1,n=0,o=2e3,r=0,s=["webkit","ms","moz","o"],a=window.requestAnimationFrame||!1,l=window.cancelAnimationFrame||!1;if(!a)for(var c in s){var h=s[c];a||(a=window[h+"RequestAnimationFrame"]),l||(l=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"])}var u=window.MutationObserver||window.WebKitMutationObserver||!1,d={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var t=document.getElementsByTagName("script"),t=t[t.length-1].src.split("?")[0];return 0<t.split("/").length?t.split("/").slice(0,-1).join("/")+"/":""}(),preventmultitouchscrolling:!0},p=!1,f=function(){if(p)return p;var t=document.createElement("DIV"),e=t.style,i=navigator.userAgent,n=navigator.platform,o={haspointerlock:"pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document};o.isopera="opera"in window,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),o.isie="all"in document&&"attachEvent"in t&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in document)||7==document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in window&&9<=document.documentMode,o.isie10=o.isie&&"performance"in window&&10==document.documentMode,o.isie11="msRequestFullscreen"in t&&11<=document.documentMode,o.isie9mobile=/iemobile.9/i.test(i),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(i),o.ismozilla="MozAppearance"in e,o.iswebkit="WebkitAppearance"in e,o.ischrome="chrome"in window,o.ischrome22=o.ischrome&&o.haspointerlock,o.ischrome26=o.ischrome&&"transition"in e,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,o.hasmstouch=window.MSPointerEvent||!1,o.hasw3ctouch=window.PointerEvent||!1,o.ismac=/^mac$/i.test(n),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(n),o.isios4=o.isios&&!("seal"in Object),o.isios7=o.isios&&"webkitHidden"in document,o.isandroid=/android/i.test(i),o.haseventlistener="addEventListener"in t,o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1,n=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(i=0;i<n.length;i++)if("undefined"!=typeof e[n[i]]){o.trstyle=n[i];break}o.hastransform=!!o.trstyle,o.hastransform&&(e[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;for(var n="transition webkitTransition msTransition MozTransition OTransition OTransition KhtmlTransition".split(" "),r=" -webkit- -ms- -moz- -o- -o -khtml-".split(" "),s="transitionend webkitTransitionEnd msTransitionEnd transitionend otransitionend oTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<n.length;i++)if(n[i]in e){o.transitionstyle=n[i],o.prefixstyle=r[i],o.transitionend=s[i];break}o.ischrome26&&(o.prefixstyle=r[1]),o.hastransition=o.transitionstyle;t:{for(i=["-webkit-grab","-moz-grab","grab"],(o.ischrome&&!o.ischrome22||o.isie)&&(i=[]),n=0;n<i.length;n++)if(r=i[n],e.cursor=r,e.cursor==r){e=r;break t}e="url(//mail.google.com/mail/images/2/openhand.cur),n-resize"}return o.cursorgrabvalue=e,o.hasmousecapture="setCapture"in t,o.hasMutationObserver=!1!==u,p=o},g=function(s,c){function h(){var t=x.doc.css(_.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function p(){var t=x.win;if("zIndex"in t)return t.zIndex();for(;0<t.length&&9!=t[0].nodeType;){var e=t.css("zIndex");if(!isNaN(e)&&0!=e)return parseInt(e);t=t.parent()}return!1}function g(t,e,i){return e=t.css(e),t=parseFloat(e),isNaN(t)?(t=T[e]||0,i=3==t?i?x.win.outerHeight()-x.win.innerHeight():x.win.outerWidth()-x.win.innerWidth():1,x.isie8&&t&&(t+=1),i?t:0):t}function v(t,e,i,n){x._bind(t,e,function(n){n=n?n:window.event;var o={original:n,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==e?(o.deltaY=-.025*n.wheelDelta,n.wheelDeltaX&&(o.deltaX=-.025*n.wheelDeltaX)):o.deltaY=n.detail,i.call(t,o)},n)}function y(t,e,i){var n,o;if(0==t.deltaMode?(n=-Math.floor(x.opt.mousescrollstep/54*t.deltaX),o=-Math.floor(x.opt.mousescrollstep/54*t.deltaY)):1==t.deltaMode&&(n=-Math.floor(t.deltaX*x.opt.mousescrollstep),o=-Math.floor(t.deltaY*x.opt.mousescrollstep)),e&&x.opt.oneaxismousemode&&0==n&&o&&(n=o,o=0,i&&(0>n?x.getScrollLeft()>=x.page.maxw:0>=x.getScrollLeft())&&(o=n,n=0)),n&&(x.scrollmom&&x.scrollmom.stop(),x.lastdeltax+=n,x.debounced("mousewheelx",function(){var t=x.lastdeltax;x.lastdeltax=0,x.rail.drag||x.doScrollLeftBy(t)},15)),o){if(x.opt.nativeparentscrolling&&i&&!x.ispage&&!x.zoomactive)if(0>o){if(x.getScrollTop()>=x.page.maxh)return!0}else if(0>=x.getScrollTop())return!0;x.scrollmom&&x.scrollmom.stop(),x.lastdeltay+=o,x.debounced("mousewheely",function(){var t=x.lastdeltay;x.lastdeltay=0,x.rail.drag||x.doScrollBy(t)},15)}return t.stopImmediatePropagation(),t.preventDefault()}var x=this;if(this.version="3.6.0",this.name="nicescroll",this.me=c,this.opt={doc:t("body"),win:!1},t.extend(this.opt,d),this.opt.snapbackspeed=80,s)for(var b in x.opt)"undefined"!=typeof s[b]&&(x.opt[b]=s[b]);this.iddoc=(this.doc=x.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(x.opt.win?x.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==x.opt.win,this.win=x.opt.win||(this.ispage?t(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?t(window):this.win,this.body=t("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=x.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode="auto"==this.opt.rtlmode?"rtl"==(this.win[0]==window?this.body:this.win).css("direction"):!0===this.opt.rtlmode,this.observerbody=this.observerremover=this.observer=this.scrollmom=this.scrollrunning=!1;do this.id="ascrail"+o++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=this.railslocked=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=x.opt.overflowx,this.overflowy=x.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=f();var _=t.extend({},this.detected);this.ishwscroll=(this.canhwscroll=_.hastransform&&x.opt.hwacceleration)&&x.haswrapper,this.hasreversehr=this.isrtlmode&&!_.iswebkit,this.istouchcapable=!1,!_.cantouch||_.isios||_.isandroid||!_.iswebkit&&!_.ismozilla||(this.istouchcapable=!0,_.cantouch=!1),x.opt.enablemouselockapi||(_.hasmousecapture=!1,_.haspointerlock=!1),this.debounced=function(t,e,i){var n=x.delaylist[t];x.delaylist[t]=e,n||setTimeout(function(){var e=x.delaylist[t];x.delaylist[t]=!1,e.call(x)},i)};var w=!1;this.synched=function(t,e){return x.synclist[t]=e,function(){w||(a(function(){w=!1;for(var t in x.synclist){var e=x.synclist[t];e&&e.call(x),x.synclist[t]=!1}}),w=!0)}(),t},this.unsynched=function(t){x.synclist[t]&&(x.synclist[t]=!1)},this.css=function(t,e){for(var i in e)x.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return"undefined"==typeof t?x.getScrollTop():x.setScrollTop(t)},this.scrollLeft=function(t){return"undefined"==typeof t?x.getScrollLeft():x.setScrollLeft(t)};var k=function(t,e,i,n,o,r,s){this.st=t,this.ed=e,this.spd=i,this.p1=n||0,this.p2=o||1,this.p3=r||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(k.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var t=1-((new Date).getTime()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return 0>t?this.ed:this.st+Math.round(this.df*e)},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},_.hastranslate3d&&_.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){if(t=h())return 16==t.length?-t[13]:-t[5];if(x.timerscroll&&x.timerscroll.bz)return x.timerscroll.bz.getNow()}return x.doc.translate.y},this.getScrollLeft=function(t){if(!t){if(t=h())return 16==t.length?-t[12]:-t[4];if(x.timerscroll&&x.timerscroll.bh)return x.timerscroll.bh.getNow()}return x.doc.translate.x},this.notifyScrollEvent=function(t){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,t.dispatchEvent(e)};var C=this.isrtlmode?1:-1;_.hastranslate3d&&x.opt.enabletranslate3d?(this.setScrollTop=function(t,e){x.doc.translate.y=t,x.doc.translate.ty=-1*t+"px",x.doc.css(_.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)"),e||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(t,e){x.doc.translate.x=t,x.doc.translate.tx=t*C+"px",x.doc.css(_.trstyle,"translate3d("+x.doc.translate.tx+","+x.doc.translate.ty+",0px)"),e||x.notifyScrollEvent(x.win[0])}):(this.setScrollTop=function(t,e){x.doc.translate.y=t,x.doc.translate.ty=-1*t+"px",x.doc.css(_.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")"),e||x.notifyScrollEvent(x.win[0])},this.setScrollLeft=function(t,e){x.doc.translate.x=t,x.doc.translate.tx=t*C+"px",x.doc.css(_.trstyle,"translate("+x.doc.translate.tx+","+x.doc.translate.ty+")"),e||x.notifyScrollEvent(x.win[0])})}else this.getScrollTop=function(){return x.docscroll.scrollTop()},this.setScrollTop=function(t){return x.docscroll.scrollTop(t)},this.getScrollLeft=function(){return x.detected.ismozilla&&x.isrtlmode?Math.abs(x.docscroll.scrollLeft()):x.docscroll.scrollLeft()},this.setScrollLeft=function(t){return x.docscroll.scrollLeft(x.detected.ismozilla&&x.isrtlmode?-t:t)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var T={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(x.isfixed){var t=x.win.offset(),e=x.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}return t=x.win.offset(),x.viewport?(e=x.viewport.offset(),{top:t.top-e.top,left:t.left-e.left}):t},this.updateScrollBar=function(t){if(x.ishwscroll)x.rail.css({height:x.win.innerHeight()-(x.opt.railpadding.top+x.opt.railpadding.bottom)}),x.railh&&x.railh.css({width:x.win.innerWidth()-(x.opt.railpadding.left+x.opt.railpadding.right)});else{var e=x.getOffset(),i=e.top,n=e.left-(x.opt.railpadding.left+x.opt.railpadding.right),i=i+g(x.win,"border-top-width",!0),n=n+(x.rail.align?x.win.outerWidth()-g(x.win,"border-right-width")-x.rail.width:g(x.win,"border-left-width")),o=x.opt.railoffset;o&&(o.top&&(i+=o.top),x.rail.align&&o.left&&(n+=o.left)),x.railslocked||x.rail.css({top:i,left:n,height:(t?t.h:x.win.innerHeight())-(x.opt.railpadding.top+x.opt.railpadding.bottom)}),x.zoom&&x.zoom.css({top:i+1,left:1==x.rail.align?n-20:n+x.rail.width+4}),x.railh&&!x.railslocked&&(i=e.top,n=e.left,(o=x.opt.railhoffset)&&(o.top&&(i+=o.top),o.left&&(n+=o.left)),t=x.railh.align?i+g(x.win,"border-top-width",!0)+x.win.innerHeight()-x.railh.height:i+g(x.win,"border-top-width",!0),n+=g(x.win,"border-left-width"),x.railh.css({top:t-(x.opt.railpadding.top+x.opt.railpadding.bottom),left:n,width:x.railh.width}))}},this.doRailClick=function(t,e,i){var n;x.railslocked||(x.cancelEvent(t),e?(e=i?x.doScrollLeft:x.doScrollTop,n=i?(t.pageX-x.railh.offset().left-x.cursorwidth/2)*x.scrollratio.x:(t.pageY-x.rail.offset().top-x.cursorheight/2)*x.scrollratio.y,e(n)):(e=i?x.doScrollLeftBy:x.doScrollBy,n=i?x.scroll.x:x.scroll.y,t=i?t.pageX-x.railh.offset().left:t.pageY-x.rail.offset().top,i=i?x.view.w:x.view.h,e(n>=t?i:-i)))},x.hasanimationframe=a,x.hascancelanimationframe=l,x.hasanimationframe?x.hascancelanimationframe||(l=function(){x.cancelAnimationFrame=!0}):(a=function(t){return setTimeout(t,15-Math.floor(+new Date/1e3)%16)},l=clearInterval),this.init=function(){if(x.saved.css=[],_.isie7mobile||_.isoperamini)return!0;if(_.hasmstouch&&x.css(x.ispage?t("html"):x.win,{"-ms-touch-action":"none"}),x.zindex="auto",x.zindex=x.ispage||"auto"!=x.opt.zindex?x.opt.zindex:p()||"auto",!x.ispage&&"auto"!=x.zindex&&x.zindex>r&&(r=x.zindex),x.isie&&0==x.zindex&&"auto"==x.opt.zindex&&(x.zindex="auto"),!x.ispage||!_.cantouch&&!_.isieold&&!_.isie9mobile){var o=x.docscroll;x.ispage&&(o=x.haswrapper?x.win:x.doc),_.isie9mobile||x.css(o,{"overflow-y":"hidden"}),x.ispage&&_.isie7&&("BODY"==x.doc[0].nodeName?x.css(t("html"),{"overflow-y":"hidden"}):"HTML"==x.doc[0].nodeName&&x.css(t("body"),{"overflow-y":"hidden"})),!_.isios||x.ispage||x.haswrapper||x.css(t("body"),{"-webkit-overflow-scrolling":"touch"});var s=t(document.createElement("div"));s.css({position:"relative",top:0,"float":"right",width:x.opt.cursorwidth,height:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius}),s.hborder=parseFloat(s.outerHeight()-s.innerHeight()),s.addClass("nicescroll-cursors"),x.cursor=s;var a=t(document.createElement("div"));a.attr("id",x.id),a.addClass("nicescroll-rails nicescroll-rails-vr");var l,c,h,d=["left","right","top","bottom"];for(h in d)c=d[h],(l=x.opt.railpadding[c])?a.css("padding-"+c,l+"px"):x.opt.railpadding[c]=0;a.append(s),a.width=Math.max(parseFloat(x.opt.cursorwidth),s.outerWidth()),a.css({width:a.width+"px",zIndex:x.zindex,background:x.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==x.opt.railalign?0:1,x.rail=a,s=x.rail.drag=!1,!x.opt.boxzoom||x.ispage||_.isieold||(s=document.createElement("div"),x.bind(s,"click",x.doZoom),x.bind(s,"mouseenter",function(){x.zoom.css("opacity",x.opt.cursoropacitymax)}),x.bind(s,"mouseleave",function(){x.zoom.css("opacity",x.opt.cursoropacitymin)}),x.zoom=t(s),x.zoom.css({cursor:"pointer","z-index":x.zindex,backgroundImage:"url("+x.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),x.opt.dblclickzoom&&x.bind(x.win,"dblclick",x.doZoom),_.cantouch&&x.opt.gesturezoom&&(x.ongesturezoom=function(t){return 1.5<t.scale&&x.doZoomIn(t),.8>t.scale&&x.doZoomOut(t),x.cancelEvent(t)},x.bind(x.win,"gestureend",x.ongesturezoom))),x.railh=!1;var f;if(x.opt.horizrailenabled&&(x.css(o,{"overflow-x":"hidden"}),s=t(document.createElement("div")),s.css({position:"absolute",top:0,height:x.opt.cursorwidth,width:"0px","background-color":x.opt.cursorcolor,border:x.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":x.opt.cursorborderradius,"-moz-border-radius":x.opt.cursorborderradius,"border-radius":x.opt.cursorborderradius}),_.isieold&&s.css({overflow:"hidden"}),s.wborder=parseFloat(s.outerWidth()-s.innerWidth()),s.addClass("nicescroll-cursors"),x.cursorh=s,f=t(document.createElement("div")),f.attr("id",x.id+"-hr"),f.addClass("nicescroll-rails nicescroll-rails-hr"),f.height=Math.max(parseFloat(x.opt.cursorwidth),s.outerHeight()),f.css({height:f.height+"px",zIndex:x.zindex,background:x.opt.background}),f.append(s),f.visibility=!0,f.scrollable=!0,f.align="top"==x.opt.railvalign?0:1,x.railh=f,x.railh.drag=!1),x.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),x.body.append(a),x.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),x.body.append(f))):(x.ishwscroll?("static"==x.win.css("position")&&x.css(x.win,{position:"relative"}),o="HTML"==x.win[0].nodeName?x.body:x.win,t(o).scrollTop(0).scrollLeft(0),x.zoom&&(x.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),o.append(x.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),o.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),o.append(f))):(x.isfixed="fixed"==x.win.css("position"),o=x.isfixed?"fixed":"absolute",x.isfixed||(x.viewport=x.getViewport(x.win[0])),x.viewport&&(x.body=x.viewport,0==/fixed|absolute/.test(x.viewport.css("position"))&&x.css(x.viewport,{position:"relative"})),a.css({position:o}),x.zoom&&x.zoom.css({position:o}),x.updateScrollBar(),x.body.append(a),x.zoom&&x.body.append(x.zoom),x.railh&&(f.css({position:o}),x.body.append(f))),_.isios&&x.css(x.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),_.isie&&x.opt.disableoutline&&x.win.attr("hideFocus","true"),_.iswebkit&&x.opt.disableoutline&&x.win.css({outline:"none"})),!1===x.opt.autohidemode?(x.autohidedom=!1,x.rail.css({opacity:x.opt.cursoropacitymax}),x.railh&&x.railh.css({opacity:x.opt.cursoropacitymax})):!0===x.opt.autohidemode||"leave"===x.opt.autohidemode?(x.autohidedom=t().add(x.rail),_.isie8&&(x.autohidedom=x.autohidedom.add(x.cursor)),x.railh&&(x.autohidedom=x.autohidedom.add(x.railh)),x.railh&&_.isie8&&(x.autohidedom=x.autohidedom.add(x.cursorh))):"scroll"==x.opt.autohidemode?(x.autohidedom=t().add(x.rail),x.railh&&(x.autohidedom=x.autohidedom.add(x.railh))):"cursor"==x.opt.autohidemode?(x.autohidedom=t().add(x.cursor),x.railh&&(x.autohidedom=x.autohidedom.add(x.cursorh))):"hidden"==x.opt.autohidemode&&(x.autohidedom=!1,x.hide(),x.railslocked=!1),_.isie9mobile)x.scrollmom=new m(x),x.onmangotouch=function(){var t=x.getScrollTop(),e=x.getScrollLeft();if(t==x.scrollmom.lastscrolly&&e==x.scrollmom.lastscrollx)return!0;var i=t-x.mangotouch.sy,n=e-x.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(n,2)+Math.pow(i,2)))){var o=0>i?-1:1,r=0>n?-1:1,s=+new Date;x.mangotouch.lazy&&clearTimeout(x.mangotouch.lazy),80<s-x.mangotouch.tm||x.mangotouch.dry!=o||x.mangotouch.drx!=r?(x.scrollmom.stop(),x.scrollmom.reset(e,t),x.mangotouch.sy=t,x.mangotouch.ly=t,x.mangotouch.sx=e,x.mangotouch.lx=e,x.mangotouch.dry=o,x.mangotouch.drx=r,x.mangotouch.tm=s):(x.scrollmom.stop(),x.scrollmom.update(x.mangotouch.sx-n,x.mangotouch.sy-i),x.mangotouch.tm=s,i=Math.max(Math.abs(x.mangotouch.ly-t),Math.abs(x.mangotouch.lx-e)),x.mangotouch.ly=t,x.mangotouch.lx=e,2<i&&(x.mangotouch.lazy=setTimeout(function(){x.mangotouch.lazy=!1,x.mangotouch.dry=0,x.mangotouch.drx=0,x.mangotouch.tm=0,x.scrollmom.doMomentum(30)},100)))}},a=x.getScrollTop(),f=x.getScrollLeft(),x.mangotouch={sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},x.bind(x.docscroll,"scroll",x.onmangotouch);else{if(_.cantouch||x.istouchcapable||x.opt.touchbehavior||_.hasmstouch){x.scrollmom=new m(x),x.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(x.hasmoving=!1,!x.railslocked){var i;if(_.hasmstouch)for(i=!!e.target&&e.target;i;){var n=t(i).getNiceScroll();if(0<n.length&&n[0].me==x.me)break;if(0<n.length)return!1;if("DIV"==i.nodeName&&i.id==x.id)break;i=!!i.parentNode&&i.parentNode}if(x.cancelScroll(),(i=x.getTarget(e))&&/INPUT/i.test(i.nodeName)&&/range/i.test(i.type))return x.stopPropagation(e);if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),x.forcescreen&&(n=e,e={original:e.original?e.original:e},e.clientX=n.screenX,e.clientY=n.screenY),x.rail.drag={x:e.clientX,y:e.clientY,sx:x.scroll.x,sy:x.scroll.y,st:x.getScrollTop(),sl:x.getScrollLeft(),pt:2,dl:!1},x.ispage||!x.opt.directionlockdeadzone)x.rail.drag.dl="f";else{var n=t(window).width(),o=t(window).height(),r=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),o=Math.max(0,s-o),n=Math.max(0,r-n);x.rail.drag.ck=!x.rail.scrollable&&x.railh.scrollable?0<o&&"v":!(!x.rail.scrollable||x.railh.scrollable)&&(0<n&&"h"),x.rail.drag.ck||(x.rail.drag.dl="f")}if(x.opt.touchbehavior&&x.isiframe&&_.isie&&(n=x.win.position(),x.rail.drag.x+=n.left,x.rail.drag.y+=n.top),x.hasmoving=!1,x.lastmouseup=!1,x.scrollmom.reset(e.clientX,e.clientY),!_.cantouch&&!this.istouchcapable&&!e.pointerType){if(!i||!/INPUT|SELECT|TEXTAREA/i.test(i.nodeName))return!x.ispage&&_.hasmousecapture&&i.setCapture(),x.opt.touchbehavior?(i.onclick&&!i._onclick&&(i._onclick=i.onclick,i.onclick=function(t){return!x.hasmoving&&void i._onclick.call(this,t)}),x.cancelEvent(e)):x.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(t(i).attr("type"))&&(pc={tg:i,click:!1},x.preventclick=pc)}}},x.ontouchend=function(t){if(!x.rail.drag)return!0;if(2==x.rail.drag.pt){if(t.pointerType&&2!=t.pointerType&&"touch"!=t.pointerType)return!1;if(x.scrollmom.doMomentum(),x.rail.drag=!1,x.hasmoving&&(x.lastmouseup=!0,x.hideCursor(),_.hasmousecapture&&document.releaseCapture(),!_.cantouch))return x.cancelEvent(t)}else if(1==x.rail.drag.pt)return x.onmouseup(t)};var g=x.opt.touchbehavior&&x.isiframe&&!_.hasmousecapture;x.ontouchmove=function(e,i){if(!x.rail.drag||e.targetTouches&&x.opt.preventmultitouchscrolling&&1<e.targetTouches.length||e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==x.rail.drag.pt){if(_.cantouch&&_.isios&&"undefined"==typeof e.original)return!0;if(x.hasmoving=!0,x.preventclick&&!x.preventclick.click&&(x.preventclick.click=x.preventclick.tg.onclick||!1,x.preventclick.tg.onclick=x.onpreventclick),e=t.extend({original:e},e),"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),x.forcescreen){var n=e;e={original:e.original?e.original:e},e.clientX=n.screenX,e.clientY=n.screenY}var o,n=o=0;g&&!i&&(o=x.win.position(),n=-o.left,o=-o.top);var r=e.clientY+o;o=r-x.rail.drag.y;var s=e.clientX+n,a=s-x.rail.drag.x,l=x.rail.drag.st-o;x.ishwscroll&&x.opt.bouncescroll?0>l?l=Math.round(l/2):l>x.page.maxh&&(l=x.page.maxh+Math.round((l-x.page.maxh)/2)):(0>l&&(r=l=0),l>x.page.maxh&&(l=x.page.maxh,r=0));var c;if(x.railh&&x.railh.scrollable&&(c=x.isrtlmode?a-x.rail.drag.sl:x.rail.drag.sl-a,x.ishwscroll&&x.opt.bouncescroll?0>c?c=Math.round(c/2):c>x.page.maxw&&(c=x.page.maxw+Math.round((c-x.page.maxw)/2)):(0>c&&(s=c=0),c>x.page.maxw&&(c=x.page.maxw,s=0))),n=!1,x.rail.drag.dl)n=!0,"v"==x.rail.drag.dl?c=x.rail.drag.sl:"h"==x.rail.drag.dl&&(l=x.rail.drag.st);else{o=Math.abs(o);var a=Math.abs(a),h=x.opt.directionlockdeadzone;if("v"==x.rail.drag.ck){if(o>h&&a<=.3*o)return x.rail.drag=!1,!0;a>h&&(x.rail.drag.dl="f",t("body").scrollTop(t("body").scrollTop()))}else if("h"==x.rail.drag.ck){if(a>h&&o<=.3*a)return x.rail.drag=!1,!0;o>h&&(x.rail.drag.dl="f",t("body").scrollLeft(t("body").scrollLeft()))}}if(x.synched("touchmove",function(){x.rail.drag&&2==x.rail.drag.pt&&(x.prepareTransition&&x.prepareTransition(0),x.rail.scrollable&&x.setScrollTop(l),x.scrollmom.update(s,r),x.railh&&x.railh.scrollable?(x.setScrollLeft(c),x.showCursor(l,c)):x.showCursor(l),_.isie10&&document.selection.clear())}),_.ischrome&&x.istouchcapable&&(n=!1),n)return x.cancelEvent(e)}else if(1==x.rail.drag.pt)return x.onmousemove(e)}}if(x.onmousedown=function(t,e){if(!x.rail.drag||1==x.rail.drag.pt){if(x.railslocked)return x.cancelEvent(t);x.cancelScroll(),x.rail.drag={x:t.clientX,y:t.clientY,sx:x.scroll.x,sy:x.scroll.y,pt:1,hr:!!e};var i=x.getTarget(t);return!x.ispage&&_.hasmousecapture&&i.setCapture(),x.isiframe&&!_.hasmousecapture&&(x.saved.csspointerevents=x.doc.css("pointer-events"),x.css(x.doc,{"pointer-events":"none"})),x.hasmoving=!1,x.cancelEvent(t)}},x.onmouseup=function(t){if(x.rail.drag)return 1!=x.rail.drag.pt||(_.hasmousecapture&&document.releaseCapture(),x.isiframe&&!_.hasmousecapture&&x.doc.css("pointer-events",x.saved.csspointerevents),x.rail.drag=!1,x.hasmoving&&x.triggerScrollEnd(),x.cancelEvent(t))},x.onmousemove=function(t){if(x.rail.drag&&1==x.rail.drag.pt){if(_.ischrome&&0==t.which)return x.onmouseup(t);if(x.cursorfreezed=!0,x.hasmoving=!0,x.rail.drag.hr){x.scroll.x=x.rail.drag.sx+(t.clientX-x.rail.drag.x),0>x.scroll.x&&(x.scroll.x=0);var e=x.scrollvaluemaxw;x.scroll.x>e&&(x.scroll.x=e)}else x.scroll.y=x.rail.drag.sy+(t.clientY-x.rail.drag.y),0>x.scroll.y&&(x.scroll.y=0),e=x.scrollvaluemax,x.scroll.y>e&&(x.scroll.y=e);return x.synched("mousemove",function(){x.rail.drag&&1==x.rail.drag.pt&&(x.showCursor(),x.rail.drag.hr?x.hasreversehr?x.doScrollLeft(x.scrollvaluemaxw-Math.round(x.scroll.x*x.scrollratio.x),x.opt.cursordragspeed):x.doScrollLeft(Math.round(x.scroll.x*x.scrollratio.x),x.opt.cursordragspeed):x.doScrollTop(Math.round(x.scroll.y*x.scrollratio.y),x.opt.cursordragspeed))}),x.cancelEvent(t)}},_.cantouch||x.opt.touchbehavior)x.onpreventclick=function(t){if(x.preventclick)return x.preventclick.tg.onclick=x.preventclick.click,x.preventclick=!1,x.cancelEvent(t)},x.bind(x.win,"mousedown",x.ontouchstart),x.onclick=!_.isios&&function(t){return!x.lastmouseup||(x.lastmouseup=!1,x.cancelEvent(t))},x.opt.grabcursorenabled&&_.cursorgrabvalue&&(x.css(x.ispage?x.doc:x.win,{cursor:_.cursorgrabvalue}),x.css(x.rail,{cursor:_.cursorgrabvalue}));else{var v=function(t){if(x.selectiondrag){if(t){var e=x.win.outerHeight();t=t.pageY-x.selectiondrag.top,0<t&&t<e&&(t=0),t>=e&&(t-=e),x.selectiondrag.df=t}0!=x.selectiondrag.df&&(x.doScrollBy(2*-Math.floor(x.selectiondrag.df/6)),x.debounced("doselectionscroll",function(){v()},50))}};x.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},x.onselectionstart=function(){x.ispage||(x.selectiondrag=x.win.offset())},x.onselectionend=function(){x.selectiondrag=!1},x.onselectiondrag=function(t){x.selectiondrag&&x.hasTextSelected()&&x.debounced("selectionscroll",function(){v(t)},250)}}_.hasw3ctouch?(x.css(x.rail,{"touch-action":"none"}),x.css(x.cursor,{"touch-action":"none"}),x.bind(x.win,"pointerdown",x.ontouchstart),x.bind(document,"pointerup",x.ontouchend),x.bind(document,"pointermove",x.ontouchmove)):_.hasmstouch?(x.css(x.rail,{"-ms-touch-action":"none"}),x.css(x.cursor,{"-ms-touch-action":"none"}),x.bind(x.win,"MSPointerDown",x.ontouchstart),x.bind(document,"MSPointerUp",x.ontouchend),x.bind(document,"MSPointerMove",x.ontouchmove),x.bind(x.cursor,"MSGestureHold",function(t){t.preventDefault()}),x.bind(x.cursor,"contextmenu",function(t){t.preventDefault()})):this.istouchcapable&&(x.bind(x.win,"touchstart",x.ontouchstart),x.bind(document,"touchend",x.ontouchend),x.bind(document,"touchcancel",x.ontouchend),x.bind(document,"touchmove",x.ontouchmove)),(x.opt.cursordragontouch||!_.cantouch&&!x.opt.touchbehavior)&&(x.rail.css({cursor:"default"}),x.railh&&x.railh.css({cursor:"default"}),x.jqbind(x.rail,"mouseenter",function(){return!(!x.ispage&&!x.win.is(":visible"))&&(x.canshowonmouseevent&&x.showCursor(),void(x.rail.active=!0))}),x.jqbind(x.rail,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.rail,"click",function(t){x.doRailClick(t,!1,!1)}),x.bind(x.rail,"dblclick",function(t){x.doRailClick(t,!0,!1)}),x.bind(x.cursor,"click",function(t){x.cancelEvent(t)}),x.bind(x.cursor,"dblclick",function(t){x.cancelEvent(t)})),x.railh&&(x.jqbind(x.railh,"mouseenter",function(){return!(!x.ispage&&!x.win.is(":visible"))&&(x.canshowonmouseevent&&x.showCursor(),void(x.rail.active=!0))}),x.jqbind(x.railh,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}),x.opt.sensitiverail&&(x.bind(x.railh,"click",function(t){x.doRailClick(t,!1,!0)}),x.bind(x.railh,"dblclick",function(t){x.doRailClick(t,!0,!0)}),x.bind(x.cursorh,"click",function(t){x.cancelEvent(t)}),x.bind(x.cursorh,"dblclick",function(t){x.cancelEvent(t)})))),_.cantouch||x.opt.touchbehavior?(x.bind(_.hasmousecapture?x.win:document,"mouseup",x.ontouchend),x.bind(document,"mousemove",x.ontouchmove),x.onclick&&x.bind(document,"click",x.onclick),x.opt.cursordragontouch&&(x.bind(x.cursor,"mousedown",x.onmousedown),x.bind(x.cursor,"mouseup",x.onmouseup),x.cursorh&&x.bind(x.cursorh,"mousedown",function(t){x.onmousedown(t,!0)}),x.cursorh&&x.bind(x.cursorh,"mouseup",x.onmouseup))):(x.bind(_.hasmousecapture?x.win:document,"mouseup",x.onmouseup),x.bind(document,"mousemove",x.onmousemove),x.onclick&&x.bind(document,"click",x.onclick),x.bind(x.cursor,"mousedown",x.onmousedown),x.bind(x.cursor,"mouseup",x.onmouseup),x.railh&&(x.bind(x.cursorh,"mousedown",function(t){x.onmousedown(t,!0)}),x.bind(x.cursorh,"mouseup",x.onmouseup)),!x.ispage&&x.opt.enablescrollonselection&&(x.bind(x.win[0],"mousedown",x.onselectionstart),x.bind(document,"mouseup",x.onselectionend),x.bind(x.cursor,"mouseup",x.onselectionend),x.cursorh&&x.bind(x.cursorh,"mouseup",x.onselectionend),x.bind(document,"mousemove",x.onselectiondrag)),x.zoom&&(x.jqbind(x.zoom,"mouseenter",function(){x.canshowonmouseevent&&x.showCursor(),x.rail.active=!0}),x.jqbind(x.zoom,"mouseleave",function(){x.rail.active=!1,x.rail.drag||x.hideCursor()}))),x.opt.enablemousewheel&&(x.isiframe||x.bind(_.isie&&x.ispage?document:x.win,"mousewheel",x.onmousewheel),x.bind(x.rail,"mousewheel",x.onmousewheel),x.railh&&x.bind(x.railh,"mousewheel",x.onmousewheelhr)),x.ispage||_.cantouch||/HTML|^BODY/.test(x.win[0].nodeName)||(x.win.attr("tabindex")||x.win.attr({tabindex:n++}),x.jqbind(x.win,"focus",function(t){e=x.getTarget(t).id||!0,x.hasfocus=!0,x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"blur",function(){e=!1,x.hasfocus=!1}),x.jqbind(x.win,"mouseenter",function(t){i=x.getTarget(t).id||!0,x.hasmousefocus=!0,x.canshowonmouseevent&&x.noticeCursor()}),x.jqbind(x.win,"mouseleave",function(){i=!1,x.hasmousefocus=!1,x.rail.drag||x.hideCursor()}))}if(x.onkeypress=function(n){if(x.railslocked&&0==x.page.maxh)return!0;n=n?n:window.e;var o=x.getTarget(n);if(o&&/INPUT|TEXTAREA|SELECT|OPTION/.test(o.nodeName)&&(!o.getAttribute("type")&&!o.type||!/submit|button|cancel/i.tp)||t(o).attr("contenteditable"))return!0;if(x.hasfocus||x.hasmousefocus&&!e||x.ispage&&!e&&!i){if(o=n.keyCode,x.railslocked&&27!=o)return x.cancelEvent(n);var r=n.ctrlKey||!1,s=n.shiftKey||!1,a=!1;switch(o){case 38:case 63233:x.doScrollBy(72),a=!0;break;case 40:case 63235:x.doScrollBy(-72),a=!0;break;case 37:case 63232:x.railh&&(r?x.doScrollLeft(0):x.doScrollLeftBy(72),a=!0);break;case 39:case 63234:x.railh&&(r?x.doScrollLeft(x.page.maxw):x.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:x.doScrollBy(x.view.h),a=!0;break;case 34:case 63277:x.doScrollBy(-x.view.h),a=!0;break;case 36:case 63273:x.railh&&r?x.doScrollPos(0,0):x.doScrollTo(0),a=!0;break;case 35:case 63275:x.railh&&r?x.doScrollPos(x.page.maxw,x.page.maxh):x.doScrollTo(x.page.maxh),a=!0;break;case 32:x.opt.spacebarenabled&&(s?x.doScrollBy(x.view.h):x.doScrollBy(-x.view.h),a=!0);break;case 27:x.zoomactive&&(x.doZoom(),a=!0)}if(a)return x.cancelEvent(n)}},x.opt.enablekeyboard&&x.bind(document,_.isopera&&!_.isopera12?"keypress":"keydown",x.onkeypress),x.bind(document,"keydown",function(t){t.ctrlKey&&(x.wheelprevented=!0)}),x.bind(document,"keyup",function(t){t.ctrlKey||(x.wheelprevented=!1)}),x.bind(window,"blur",function(){
x.wheelprevented=!1}),x.bind(window,"resize",x.lazyResize),x.bind(window,"orientationchange",x.lazyResize),x.bind(window,"load",x.lazyResize),_.ischrome&&!x.ispage&&!x.haswrapper){var y=x.win.attr("style"),a=parseFloat(x.win.css("width"))+1;x.win.css("width",a),x.synched("chromefix",function(){x.win.attr("style",y)})}x.onAttributeChange=function(){x.lazyResize(x.isieold?250:30)},!1!==u&&(x.observerbody=new u(function(e){if(e.forEach(function(e){if("attributes"==e.type)return t("body").hasClass("modal-open")?x.hide():x.show()}),document.body.scrollHeight!=x.page.maxh)return x.lazyResize(30)}),x.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),x.ispage||x.haswrapper||(!1!==u?(x.observer=new u(function(t){t.forEach(x.onAttributeChange)}),x.observer.observe(x.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),x.observerremover=new u(function(t){t.forEach(function(t){if(0<t.removedNodes.length)for(var e in t.removedNodes)if(x&&t.removedNodes[e]==x.win[0])return x.remove()})}),x.observerremover.observe(x.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(x.bind(x.win,_.isie&&!_.isie9?"propertychange":"DOMAttrModified",x.onAttributeChange),_.isie9&&x.win[0].attachEvent("onpropertychange",x.onAttributeChange),x.bind(x.win,"DOMNodeRemoved",function(t){t.target==x.win[0]&&x.remove()}))),!x.ispage&&x.opt.boxzoom&&x.bind(window,"resize",x.resizeZoom),x.istextarea&&x.bind(x.win,"mouseup",x.lazyResize),x.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var b=function(){x.iframexd=!1;var e;try{e="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(t){x.iframexd=!0,e=!1}if(x.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(x.forcescreen=!0,x.isiframe&&(x.iframe={doc:t(e),html:x.doc.contents().find("html")[0],body:x.doc.contents().find("body")[0]},x.getContentSize=function(){return{w:Math.max(x.iframe.html.scrollWidth,x.iframe.body.scrollWidth),h:Math.max(x.iframe.html.scrollHeight,x.iframe.body.scrollHeight)}},x.docscroll=t(x.iframe.body)),!_.isios&&x.opt.iframeautoresize&&!x.isiframe){x.win.scrollTop(0),x.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);x.doc.height(i)}x.lazyResize(30),_.isie7&&x.css(t(x.iframe.html),{"overflow-y":"hidden"}),x.css(t(x.iframe.body),{"overflow-y":"hidden"}),_.isios&&x.haswrapper&&x.css(t(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?x.bind(this.contentWindow,"scroll",x.onscroll):x.bind(e,"scroll",x.onscroll),x.opt.enablemousewheel&&x.bind(e,"mousewheel",x.onmousewheel),x.opt.enablekeyboard&&x.bind(e,_.isopera?"keypress":"keydown",x.onkeypress),(_.cantouch||x.opt.touchbehavior)&&(x.bind(e,"mousedown",x.ontouchstart),x.bind(e,"mousemove",function(t){return x.ontouchmove(t,!0)}),x.opt.grabcursorenabled&&_.cursorgrabvalue&&x.css(t(e.body),{cursor:_.cursorgrabvalue})),x.bind(e,"mouseup",x.ontouchend),x.zoom&&(x.opt.dblclickzoom&&x.bind(e,"dblclick",x.doZoom),x.ongesturezoom&&x.bind(e,"gestureend",x.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){b.call(x.doc[0],!1)},500),x.bind(this.doc,"load",b)}},this.showCursor=function(t,e){if(x.cursortimeout&&(clearTimeout(x.cursortimeout),x.cursortimeout=0),x.rail){if(x.autohidedom&&(x.autohidedom.stop().css({opacity:x.opt.cursoropacitymax}),x.cursoractive=!0),x.rail.drag&&1==x.rail.drag.pt||("undefined"!=typeof t&&!1!==t&&(x.scroll.y=Math.round(1*t/x.scrollratio.y)),"undefined"!=typeof e&&(x.scroll.x=Math.round(1*e/x.scrollratio.x))),x.cursor.css({height:x.cursorheight,top:x.scroll.y}),x.cursorh){var i=x.hasreversehr?x.scrollvaluemaxw-x.scroll.x:x.scroll.x;!x.rail.align&&x.rail.visibility?x.cursorh.css({width:x.cursorwidth,left:i+x.rail.width}):x.cursorh.css({width:x.cursorwidth,left:i}),x.cursoractive=!0}x.zoom&&x.zoom.stop().css({opacity:x.opt.cursoropacitymax})}},this.hideCursor=function(t){x.cursortimeout||!x.rail||!x.autohidedom||x.hasmousefocus&&"leave"==x.opt.autohidemode||(x.cursortimeout=setTimeout(function(){x.rail.active&&x.showonmouseevent||(x.autohidedom.stop().animate({opacity:x.opt.cursoropacitymin}),x.zoom&&x.zoom.stop().animate({opacity:x.opt.cursoropacitymin}),x.cursoractive=!1),x.cursortimeout=0},t||x.opt.hidecursordelay))},this.noticeCursor=function(t,e,i){x.showCursor(e,i),x.rail.active||x.hideCursor(t)},this.getContentSize=x.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:x.haswrapper?function(){return{w:x.doc.outerWidth()+parseInt(x.win.css("paddingLeft"))+parseInt(x.win.css("paddingRight")),h:x.doc.outerHeight()+parseInt(x.win.css("paddingTop"))+parseInt(x.win.css("paddingBottom"))}}:function(){return{w:x.docscroll[0].scrollWidth,h:x.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!x||!x.win)return!1;if(!x.haswrapper&&!x.ispage){if("none"==x.win.css("display"))return x.visibility&&x.hideRail().hideRailHr(),!1;x.hidden||x.visibility||x.showRail().showRailHr()}var i=x.page.maxh,n=x.page.maxw,o=x.view.h,r=x.view.w;if(x.view={w:x.ispage?x.win.width():parseInt(x.win[0].clientWidth),h:x.ispage?x.win.height():parseInt(x.win[0].clientHeight)},x.page=e?e:x.getContentSize(),x.page.maxh=Math.max(0,x.page.h-x.view.h),x.page.maxw=Math.max(0,x.page.w-x.view.w),x.page.maxh==i&&x.page.maxw==n&&x.view.w==r&&x.view.h==o){if(x.ispage)return x;if(i=x.win.offset(),x.lastposition&&(n=x.lastposition,n.top==i.top&&n.left==i.left))return x;x.lastposition=i}return 0==x.page.maxh?(x.hideRail(),x.scrollvaluemax=0,x.scroll.y=0,x.scrollratio.y=0,x.cursorheight=0,x.setScrollTop(0),x.rail.scrollable=!1):(x.page.maxh-=x.opt.railpadding.top+x.opt.railpadding.bottom,x.rail.scrollable=!0),0==x.page.maxw?(x.hideRailHr(),x.scrollvaluemaxw=0,x.scroll.x=0,x.scrollratio.x=0,x.cursorwidth=0,x.setScrollLeft(0),x.railh.scrollable=!1):(x.page.maxw-=x.opt.railpadding.left+x.opt.railpadding.right,x.railh.scrollable=!0),x.railslocked=x.locked||0==x.page.maxh&&0==x.page.maxw,x.railslocked?(x.ispage||x.updateScrollBar(x.view),!1):(x.hidden||x.visibility?x.hidden||x.railh.visibility||x.showRailHr():x.showRail().showRailHr(),x.istextarea&&x.win.css("resize")&&"none"!=x.win.css("resize")&&(x.view.h-=20),x.cursorheight=Math.min(x.view.h,Math.round(x.view.h/x.page.h*x.view.h)),x.cursorheight=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorheight),x.cursorwidth=Math.min(x.view.w,Math.round(x.view.w/x.page.w*x.view.w)),x.cursorwidth=x.opt.cursorfixedheight?x.opt.cursorfixedheight:Math.max(x.opt.cursorminheight,x.cursorwidth),x.scrollvaluemax=x.view.h-x.cursorheight-x.cursor.hborder-(x.opt.railpadding.top+x.opt.railpadding.bottom),x.railh&&(x.railh.width=0<x.page.maxh?x.view.w-x.rail.width:x.view.w,x.scrollvaluemaxw=x.railh.width-x.cursorwidth-x.cursorh.wborder-(x.opt.railpadding.left+x.opt.railpadding.right)),x.ispage||x.updateScrollBar(x.view),x.scrollratio={x:x.page.maxw/x.scrollvaluemaxw,y:x.page.maxh/x.scrollvaluemax},x.getScrollTop()>x.page.maxh?x.doScrollTop(x.page.maxh):(x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x)),x.cursoractive&&x.noticeCursor()),x.scroll.y&&0==x.getScrollTop()&&x.doScrollTo(Math.floor(x.scroll.y*x.scrollratio.y)),x)},this.resize=x.onResize,this.lazyResize=function(t){return t=isNaN(t)?30:t,x.debounced("resize",x.resize,t),x},this.jqbind=function(e,i,n){x.events.push({e:e,n:i,f:n,q:!0}),t(e).bind(i,n)},this.bind=function(t,e,i,n){var o="jquery"in t?t[0]:t;"mousewheel"==e?window.addEventListener||"onwheel"in document?x._bind(o,"wheel",i,n||!1):(t="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",v(o,t,i,n||!1),"DOMMouseScroll"==t&&v(o,"MozMousePixelScroll",i,n||!1)):o.addEventListener?(_.cantouch&&/mouseup|mousedown|mousemove/.test(e)&&x._bind(o,"mousedown"==e?"touchstart":"mouseup"==e?"touchend":"touchmove",function(t){if(t.touches){if(2>t.touches.length){var e=t.touches.length?t.touches[0]:t;e.original=t,i.call(this,e)}}else t.changedTouches&&(e=t.changedTouches[0],e.original=t,i.call(this,e))},n||!1),x._bind(o,e,i,n||!1),_.cantouch&&"mouseup"==e&&x._bind(o,"touchcancel",i,n||!1)):x._bind(o,e,function(t){return(t=t||window.event||!1)&&t.srcElement&&(t.target=t.srcElement),"pageY"in t||(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop),!1!==i.call(o,t)&&!1!==n||x.cancelEvent(t)})},_.haseventlistener?(this._bind=function(t,e,i,n){x.events.push({e:t,n:e,f:i,b:n,q:!1}),t.addEventListener(e,i,n||!1)},this.cancelEvent=function(t){return!!t&&(t=t.original?t.original:t,t.preventDefault(),t.stopPropagation(),t.preventManipulation&&t.preventManipulation(),!1)},this.stopPropagation=function(t){return!!t&&(t=t.original?t.original:t,t.stopPropagation(),!1)},this._unbind=function(t,e,i,n){t.removeEventListener(e,i,n)}):(this._bind=function(t,e,i,n){x.events.push({e:t,n:e,f:i,b:n,q:!1}),t.attachEvent?t.attachEvent("on"+e,i):t["on"+e]=i},this.cancelEvent=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1)},this.stopPropagation=function(t){return!!(t=window.event||!1)&&(t.cancelBubble=!0,!1)},this._unbind=function(t,e,i){t.detachEvent?t.detachEvent("on"+e,i):t["on"+e]=!1}),this.unbindAll=function(){for(var t=0;t<x.events.length;t++){var e=x.events[t];e.q?e.e.unbind(e.n,e.f):x._unbind(e.e,e.n,e.f,e.b)}},this.showRail=function(){return 0==x.page.maxh||!x.ispage&&"none"==x.win.css("display")||(x.visibility=!0,x.rail.visibility=!0,x.rail.css("display","block")),x},this.showRailHr=function(){return x.railh?(0==x.page.maxw||!x.ispage&&"none"==x.win.css("display")||(x.railh.visibility=!0,x.railh.css("display","block")),x):x},this.hideRail=function(){return x.visibility=!1,x.rail.visibility=!1,x.rail.css("display","none"),x},this.hideRailHr=function(){return x.railh?(x.railh.visibility=!1,x.railh.css("display","none"),x):x},this.show=function(){return x.hidden=!1,x.railslocked=!1,x.showRail().showRailHr()},this.hide=function(){return x.hidden=!0,x.railslocked=!0,x.hideRail().hideRailHr()},this.toggle=function(){return x.hidden?x.show():x.hide()},this.remove=function(){x.stop(),x.cursortimeout&&clearTimeout(x.cursortimeout),x.doZoomOut(),x.unbindAll(),_.isie9&&x.win[0].detachEvent("onpropertychange",x.onAttributeChange),!1!==x.observer&&x.observer.disconnect(),!1!==x.observerremover&&x.observerremover.disconnect(),!1!==x.observerbody&&x.observerbody.disconnect(),x.events=null,x.cursor&&x.cursor.remove(),x.cursorh&&x.cursorh.remove(),x.rail&&x.rail.remove(),x.railh&&x.railh.remove(),x.zoom&&x.zoom.remove();for(var e=0;e<x.saved.css.length;e++){var i=x.saved.css[e];i[0].css(i[1],"undefined"==typeof i[2]?"":i[2])}x.saved=!1,x.me.data("__nicescroll","");var n=t.nicescroll;n.each(function(t){if(this&&this.id===x.id){delete n[t];for(var e=++t;e<n.length;e++,t++)n[t]=n[e];n.length--,n.length&&delete n[n.length]}});for(var o in x)x[o]=null,delete x[o];x=null},this.scrollstart=function(t){return this.onscrollstart=t,x},this.scrollend=function(t){return this.onscrollend=t,x},this.scrollcancel=function(t){return this.onscrollcancel=t,x},this.zoomin=function(t){return this.onzoomin=t,x},this.zoomout=function(t){return this.onzoomout=t,x},this.isScrollable=function(e){if(e=e.target?e.target:e,"OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e),i=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(i))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(e){for(e=!(!e||!e.parentNode)&&e.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=t(e);if(/fixed|absolute/.test(i.css("position")))return i;var n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n)&&e.clientHeight!=e.scrollHeight||0<i.getNiceScroll().length)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollEnd=function(){if(x.onscrollend){var t=x.getScrollLeft(),e=x.getScrollTop();x.onscrollend.call(x,{type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}})}},this.onmousewheel=function(t){if(!x.wheelprevented){if(x.railslocked)return x.debounced("checkunlock",x.resize,250),!0;if(x.rail.drag)return x.cancelEvent(t);if("auto"==x.opt.oneaxismousemode&&0!=t.deltaX&&(x.opt.oneaxismousemode=!1),x.opt.oneaxismousemode&&0==t.deltaX&&!x.rail.scrollable)return!x.railh||!x.railh.scrollable||x.onmousewheelhr(t);var e=+new Date,i=!1;return x.opt.preservenativescrolling&&x.checkarea+600<e&&(x.nativescrollingarea=x.isScrollable(t),i=!0),x.checkarea=e,!!x.nativescrollingarea||((t=y(t,!1,i))&&(x.checkarea=0),t)}},this.onmousewheelhr=function(t){if(!x.wheelprevented){if(x.railslocked||!x.railh.scrollable)return!0;if(x.rail.drag)return x.cancelEvent(t);var e=+new Date,i=!1;return x.opt.preservenativescrolling&&x.checkarea+600<e&&(x.nativescrollingarea=x.isScrollable(t),i=!0),x.checkarea=e,!!x.nativescrollingarea||(x.railslocked?x.cancelEvent(t):y(t,!0,i))}},this.stop=function(){return x.cancelScroll(),x.scrollmon&&x.scrollmon.stop(),x.cursorfreezed=!1,x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.noticeCursor(),x},this.getTransitionSpeed=function(t){var e=Math.round(10*x.opt.scrollspeed);return t=Math.min(e,Math.round(t/20*x.opt.scrollspeed)),20<t?t:0},x.opt.smoothscroll?x.ishwscroll&&_.hastransition&&x.opt.usetransition&&x.opt.smoothscroll?(this.prepareTransition=function(t,e){var i=e?20<t?t:0:x.getTransitionSpeed(t),n=i?_.prefixstyle+"transform "+i+"ms ease-out":"";return x.lasttransitionstyle&&x.lasttransitionstyle==n||(x.lasttransitionstyle=n,x.doc.css(_.transitionstyle,n)),i},this.doScrollLeft=function(t,e){var i=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var n=x.getScrollTop(),o=x.getScrollLeft();return(0>(x.newscrolly-n)*(e-n)||0>(x.newscrollx-o)*(t-o))&&x.cancelScroll(),0==x.opt.bouncescroll&&(0>e?e=0:e>x.page.maxh&&(e=x.page.maxh),0>t?t=0:t>x.page.maxw&&(t=x.page.maxw)),(!x.scrollrunning||t!=x.newscrollx||e!=x.newscrolly)&&(x.newscrolly=e,x.newscrollx=t,x.newscrollspeed=i||!1,!x.timer&&void(x.timer=setTimeout(function(){var i,n,o=x.getScrollTop(),r=x.getScrollLeft();i=t-r,n=e-o,i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(n,2))),i=x.newscrollspeed&&1<x.newscrollspeed?x.newscrollspeed:x.getTransitionSpeed(i),x.newscrollspeed&&1>=x.newscrollspeed&&(i*=x.newscrollspeed),x.prepareTransition(i,!0),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),0<i&&(!x.scrollrunning&&x.onscrollstart&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:r,y:o},request:{x:t,y:e},end:{x:x.newscrollx,y:x.newscrolly},speed:i}),_.transitionend?x.scrollendtrapped||(x.scrollendtrapped=!0,x.bind(x.doc,_.transitionend,x.onScrollTransitionEnd,!1)):(x.scrollendtrapped&&clearTimeout(x.scrollendtrapped),x.scrollendtrapped=setTimeout(x.onScrollTransitionEnd,i)),x.timerscroll={bz:new k(o,x.newscrolly,i,0,0,.58,1),bh:new k(r,x.newscrollx,i,0,0,.58,1)},x.cursorfreezed||(x.timerscroll.tm=setInterval(function(){x.showCursor(x.getScrollTop(),x.getScrollLeft())},60))),x.synched("doScroll-set",function(){x.timer=0,x.scrollendtrapped&&(x.scrollrunning=!0),x.setScrollTop(x.newscrolly),x.setScrollLeft(x.newscrollx),x.scrollendtrapped||x.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!x.scrollendtrapped)return!0;var t=x.getScrollTop(),e=x.getScrollLeft();return x.scrollrunning=!1,_.transitionend||clearTimeout(_.transitionend),x.scrollendtrapped=!1,x._unbind(x.doc[0],_.transitionend,x.onScrollTransitionEnd),x.prepareTransition(0),x.setScrollTop(t),x.railh&&x.setScrollLeft(e),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),x.timerscroll=!1,x.cursorfreezed=!1,x.showCursor(t,e),x},this.onScrollTransitionEnd=function(){x.scrollendtrapped&&x._unbind(x.doc[0],_.transitionend,x.onScrollTransitionEnd),x.scrollendtrapped=!1,x.prepareTransition(0),x.timerscroll&&x.timerscroll.tm&&clearInterval(x.timerscroll.tm),x.timerscroll=!1;var t=x.getScrollTop(),e=x.getScrollLeft();return x.setScrollTop(t),x.railh&&x.setScrollLeft(e),x.noticeCursor(!1,t,e),x.cursorfreezed=!1,0>t?t=0:t>x.page.maxh&&(t=x.page.maxh),0>e?e=0:e>x.page.maxw&&(e=x.page.maxw),t!=x.newscrolly||e!=x.newscrollx?x.doScrollPos(e,t,x.opt.snapbackspeed):(x.onscrollend&&x.scrollrunning&&x.triggerScrollEnd(),void(x.scrollrunning=!1))}):(this.doScrollLeft=function(t,e){var i=x.scrollrunning?x.newscrolly:x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.scrollrunning?x.newscrollx:x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){function n(){if(x.cancelAnimationFrame)return!0;if(x.scrollrunning=!0,u=1-u)return x.timer=a(n)||1;var t,e,i=0,o=e=x.getScrollTop();x.dst.ay?(o=x.bzscroll?x.dst.py+x.bzscroll.getNow()*x.dst.ay:x.newscrolly,t=o-e,(0>t&&o<x.newscrolly||0<t&&o>x.newscrolly)&&(o=x.newscrolly),x.setScrollTop(o),o==x.newscrolly&&(i=1)):i=1,e=t=x.getScrollLeft(),x.dst.ax?(e=x.bzscroll?x.dst.px+x.bzscroll.getNow()*x.dst.ax:x.newscrollx,t=e-t,(0>t&&e<x.newscrollx||0<t&&e>x.newscrollx)&&(e=x.newscrollx),x.setScrollLeft(e),e==x.newscrollx&&(i+=1)):i+=1,2==i?(x.timer=0,x.cursorfreezed=!1,x.bzscroll=!1,x.scrollrunning=!1,0>o?o=0:o>x.page.maxh&&(o=x.page.maxh),0>e?e=0:e>x.page.maxw&&(e=x.page.maxw),e!=x.newscrollx||o!=x.newscrolly?x.doScrollPos(e,o):x.onscrollend&&x.triggerScrollEnd()):x.timer=a(n)||1}if(e="undefined"==typeof e||!1===e?x.getScrollTop(!0):e,x.timer&&x.newscrolly==e&&x.newscrollx==t)return!0;x.timer&&l(x.timer),x.timer=0;var o=x.getScrollTop(),r=x.getScrollLeft();(0>(x.newscrolly-o)*(e-o)||0>(x.newscrollx-r)*(t-r))&&x.cancelScroll(),x.newscrolly=e,x.newscrollx=t,x.bouncescroll&&x.rail.visibility||(0>x.newscrolly?x.newscrolly=0:x.newscrolly>x.page.maxh&&(x.newscrolly=x.page.maxh)),x.bouncescroll&&x.railh.visibility||(0>x.newscrollx?x.newscrollx=0:x.newscrollx>x.page.maxw&&(x.newscrollx=x.page.maxw)),x.dst={},x.dst.x=t-r,x.dst.y=e-o,x.dst.px=r,x.dst.py=o;var s=Math.round(Math.sqrt(Math.pow(x.dst.x,2)+Math.pow(x.dst.y,2)));x.dst.ax=x.dst.x/s,x.dst.ay=x.dst.y/s;var c=0,h=s;if(0==x.dst.x?(c=o,h=e,x.dst.ay=1,x.dst.py=0):0==x.dst.y&&(c=r,h=t,x.dst.ax=1,x.dst.px=0),s=x.getTransitionSpeed(s),i&&1>=i&&(s*=i),x.bzscroll=0<s&&(x.bzscroll?x.bzscroll.update(h,s):new k(c,h,s,0,1,0,1)),!x.timer){(o==x.page.maxh&&e>=x.page.maxh||r==x.page.maxw&&t>=x.page.maxw)&&x.checkContentSize();var u=1;x.cancelAnimationFrame=!1,x.timer=1,x.onscrollstart&&!x.scrollrunning&&x.onscrollstart.call(x,{type:"scrollstart",current:{x:r,y:o},request:{x:t,y:e},end:{x:x.newscrollx,y:x.newscrolly},speed:s}),n(),(o==x.page.maxh&&e>=o||r==x.page.maxw&&t>=r)&&x.checkContentSize(),x.noticeCursor()}},this.cancelScroll=function(){return x.timer&&l(x.timer),x.timer=0,x.bzscroll=!1,x.scrollrunning=!1,x}):(this.doScrollLeft=function(t,e){var i=x.getScrollTop();x.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=x.getScrollLeft();x.doScrollPos(i,t,e)},this.doScrollPos=function(t,e){var i=t>x.page.maxw?x.page.maxw:t;0>i&&(i=0);var n=e>x.page.maxh?x.page.maxh:e;0>n&&(n=0),x.synched("scroll",function(){x.setScrollTop(n),x.setScrollLeft(i)})},this.cancelScroll=function(){}),this.doScrollBy=function(t,e){var i=0,i=e?Math.floor((x.scroll.y-t)*x.scrollratio.y):(x.timer?x.newscrolly:x.getScrollTop(!0))-t;if(x.bouncescroll){var n=Math.round(x.view.h/2);i<-n?i=-n:i>x.page.maxh+n&&(i=x.page.maxh+n)}return x.cursorfreezed=!1,n=x.getScrollTop(!0),0>i&&0>=n?x.noticeCursor():i>x.page.maxh&&n>=x.page.maxh?(x.checkContentSize(),x.noticeCursor()):void x.doScrollTop(i)},this.doScrollLeftBy=function(t,e){var i=0,i=e?Math.floor((x.scroll.x-t)*x.scrollratio.x):(x.timer?x.newscrollx:x.getScrollLeft(!0))-t;if(x.bouncescroll){var n=Math.round(x.view.w/2);i<-n?i=-n:i>x.page.maxw+n&&(i=x.page.maxw+n)}return x.cursorfreezed=!1,n=x.getScrollLeft(!0),0>i&&0>=n||i>x.page.maxw&&n>=x.page.maxw?x.noticeCursor():void x.doScrollLeft(i)},this.doScrollTo=function(t,e){e&&Math.round(t*x.scrollratio.y),x.cursorfreezed=!1,x.doScrollTop(t)},this.checkContentSize=function(){var t=x.getContentSize();t.h==x.page.h&&t.w==x.page.w||x.resize(!1,t)},x.onscroll=function(){x.rail.drag||x.cursorfreezed||x.synched("scroll",function(){x.scroll.y=Math.round(x.getScrollTop()*(1/x.scrollratio.y)),x.railh&&(x.scroll.x=Math.round(x.getScrollLeft()*(1/x.scrollratio.x))),x.noticeCursor()})},x.bind(x.docscroll,"scroll",x.onscroll),this.doZoomIn=function(e){if(!x.zoomactive){x.zoomactive=!0,x.zoomrestore={style:{}};var i,n="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),o=x.win[0].style;for(i in n){var s=n[i];x.zoomrestore.style[s]="undefined"!=typeof o[s]?o[s]:""}return x.zoomrestore.style.width=x.win.css("width"),x.zoomrestore.style.height=x.win.css("height"),x.zoomrestore.padding={w:x.win.outerWidth()-x.win.width(),h:x.win.outerHeight()-x.win.height()},_.isios4&&(x.zoomrestore.scrollTop=t(window).scrollTop(),t(window).scrollTop(0)),x.win.css({position:_.isios4?"absolute":"fixed",top:0,left:0,"z-index":r+100,margin:"0px"}),n=x.win.css("backgroundColor"),(""==n||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(n))&&x.win.css("backgroundColor","#fff"),x.rail.css({"z-index":r+101}),x.zoom.css({"z-index":r+102}),x.zoom.css("backgroundPosition","0px -18px"),x.resizeZoom(),x.onzoomin&&x.onzoomin.call(x),x.cancelEvent(e)}},this.doZoomOut=function(e){if(x.zoomactive)return x.zoomactive=!1,x.win.css("margin",""),x.win.css(x.zoomrestore.style),_.isios4&&t(window).scrollTop(x.zoomrestore.scrollTop),x.rail.css({"z-index":x.zindex}),x.zoom.css({"z-index":x.zindex}),x.zoomrestore=!1,x.zoom.css("backgroundPosition","0px 0px"),x.onResize(),x.onzoomout&&x.onzoomout.call(x),x.cancelEvent(e)},this.doZoom=function(t){return x.zoomactive?x.doZoomOut(t):x.doZoomIn(t)},this.resizeZoom=function(){if(x.zoomactive){var e=x.getScrollTop();x.win.css({width:t(window).width()-x.zoomrestore.padding.w+"px",height:t(window).height()-x.zoomrestore.padding.h+"px"}),x.onResize(),x.setScrollTop(Math.min(x.page.maxh,e))}},this.init(),t.nicescroll.push(this)},m=function(t){var e=this;this.nc=t,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(t,i){e.stop();var n=e.time();e.steptime=0,e.lasttime=n,e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var n=e.time();e.steptime=n-e.lasttime,e.lasttime=n;var n=i-e.lasty,o=t-e.lastx,r=e.nc.getScrollTop(),s=e.nc.getScrollLeft(),r=r+n,s=s+o;e.snapx=0>s||s>e.nc.page.maxw,e.snapy=0>r||r>e.nc.page.maxh,e.speedx=o,e.speedy=n,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var n=!1;0>i?(i=0,n=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,n=!0),0>t?(t=0,n=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,n=!0),n?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=e.time(),n=t?i+t:e.lasttime;t=e.nc.getScrollLeft();var o=e.nc.getScrollTop(),r=e.nc.page.maxh,s=e.nc.page.maxw;if(e.speedx=0<s?Math.min(60,e.speedx):0,e.speedy=0<r?Math.min(60,e.speedy):0,n=n&&60>=i-n,(0>o||o>r||0>t||t>s)&&(n=!1),t=!(!e.speedx||!n)&&e.speedx,e.speedy&&n&&e.speedy||t){var a=Math.max(16,e.steptime);50<a&&(t=a/50,e.speedx*=t,e.speedy*=t,a=50),e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var l=e.lastscrollx,c=e.lastscrolly,h=function(){var t=600<e.time()-i?.04:.02;e.speedx&&(l=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=l,0>l||l>s)&&(t=.1),e.speedy&&(c=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=c,0>c||c>r)&&(t=.1),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){e.speedx&&(e.nc.getScrollLeft()!=e.chkx&&e.stop(),e.chkx=l,e.nc.setScrollLeft(l)),e.speedy&&(e.nc.getScrollTop()!=e.chky&&e.stop(),e.chky=c,e.nc.setScrollTop(c)),e.timer||(e.nc.hideCursor(),e.doSnapy(l,c))}),1>e.demulxy?e.timer=setTimeout(h,a):(e.stop(),e.nc.hideCursor(),e.doSnapy(l,c))};h()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},v=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(e,i){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollTop():v.call(e)},set:function(e,i){var n=t.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollTop(parseInt(i)):v.call(e,i),this}},t.fn.scrollTop=function(e){if("undefined"==typeof e){var i=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollTop():v.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollTop(parseInt(e)):v.call(t(this),e)})};var y=t.fn.scrollLeft;t.cssHooks.pageXOffset={get:function(e,i){return(i=t.data(e,"__nicescroll")||!1)&&i.ishwscroll?i.getScrollLeft():y.call(e)},set:function(e,i){var n=t.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollLeft(parseInt(i)):y.call(e,i),this}},t.fn.scrollLeft=function(e){if("undefined"==typeof e){var i=!!this[0]&&(t.data(this[0],"__nicescroll")||!1);return i&&i.ishwscroll?i.getScrollLeft():y.call(this)}return this.each(function(){var i=t.data(this,"__nicescroll")||!1;i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):y.call(t(this),e)})};var x=function(e){var i=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){for(var e=0,n=0;e<i.length;e++)t.call(i[e],n++);return i},this.push=function(t){i[i.length]=t,i.length++},this.eq=function(t){return i[t]},e)for(var n=0;n<e.length;n++){var o=t.data(e[n],"__nicescroll")||!1;o&&(this[this.length]=o,this.length++)}return this};!function(t,e,i){for(var n=0;n<e.length;n++)i(t,e[n])}(x.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(e){return"undefined"==typeof e?new x(this):this[e]&&t.data(this[e],"__nicescroll")||!1},t.extend(t.expr[":"],{nicescroll:function(e){return!!t.data(e,"__nicescroll")}}),t.fn.niceScroll=function(e,i){"undefined"!=typeof i||"object"!=typeof e||"jquery"in e||(i=e,e=!1),i=t.extend({},i);var n=new x;"undefined"==typeof i&&(i={}),e&&(i.doc=t(e),i.win=t(this));var o=!("doc"in i);return o||"win"in i||(i.win=t(this)),this.each(function(){var e=t(this).data("__nicescroll")||!1;e||(i.doc=o?t(this):i.doc,e=new g(i,t(this)),t(this).data("__nicescroll",e)),n.push(e)}),1==n.length?n[0]:n},window.NiceScroll={getjQuery:function(){return t}},t.nicescroll||(t.nicescroll=new x,t.nicescroll.options=d)});