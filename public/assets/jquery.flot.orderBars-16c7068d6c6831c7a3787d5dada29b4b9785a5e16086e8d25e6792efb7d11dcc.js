!function(t){function e(t){function e(t,e,s){var r=null;if(i(e)&&(h(e),n(t),o(t),l(e),m>=2)){var a=c(e),v=0,x=u();v=d(a)?-1*p(g,a-1,Math.floor(m/2)-1)-x:p(g,Math.ceil(m/2),a-2)+x+2*y,r=f(s,e,v),s.points=r}return r}function i(t){return null!=t.bars&&t.bars.show&&null!=t.bars.order}function n(t){var e=_?t.getPlaceholder().innerHeight():t.getPlaceholder().innerWidth(),i=_?s(t.getData(),1):s(t.getData(),0),n=i[1]-i[0];x=n/e}function s(t,e){for(var i=new Array,n=0;n<t.length;n++)i[0]=t[n].data[0][e],i[1]=t[n].data[t[n].data.length-1][e];return i}function o(t){g=r(t.getData()),m=g.length}function r(t){for(var e=new Array,i=0;i<t.length;i++)null!=t[i].bars.order&&t[i].bars.show&&e.push(t[i]);return e.sort(a)}function a(t,e){var i=t.bars.order,n=e.bars.order;return i<n?-1:i>n?1:0}function l(t){v=t.bars.lineWidth?t.bars.lineWidth:2,y=v*x}function h(t){t.bars.horizontal&&(_=!0)}function c(t){for(var e=0,i=0;i<g.length;++i)if(t==g[i]){e=i;break}return e+1}function u(){var t=0;return m%2!=0&&(t=g[Math.ceil(m/2)].bars.barWidth/2),t}function d(t){return t<=Math.ceil(m/2)}function p(t,e,i){for(var n=0,s=e;s<=i;s++)n+=t[s].bars.barWidth+2*y;return n}function f(t,e,i){for(var n=t.pointsize,s=t.points,o=0,r=_?1:0;r<s.length;r+=n)s[r]+=i,e.data[o][3]=s[r],o++;return s}var g,m,v,y,x=1,_=!1;t.hooks.processDatapoints.push(e)}var i={series:{bars:{order:null}}};t.plot.plugins.push({init:e,options:i,name:"orderBars",version:"0.2"})}(jQuery);